<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from ./xacro/urdf/micromouse_robot.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="micromouse_robot">
  <gazebo reference="body_link">
    <mu1>0.2</mu1>
    <mu2>0.75</mu2>
    <material>Gazebo/Red</material>
  </gazebo>
  <gazebo reference="extra_weight_link">
    <mu1>0.2</mu1>
    <mu2>0.75</mu2>
    <material>Gazebo/Green</material>
  </gazebo>
  <gazebo reference="wheel1_link">
    <mu1>0.2</mu1>
    <mu2>0.75</mu2>
    <material>Gazebo/Yellow</material>
  </gazebo>
  <gazebo reference="wheel2_link">
    <mu1>0.2</mu1>
    <mu2>0.75</mu2>
    <material>Gazebo/Yellow</material>
  </gazebo>
  <gazebo reference="caster_link">
    <mu1>0.0</mu1>
    <mu2>0.0</mu2>
    <material>Gazebo/Green</material>
  </gazebo>
  <gazebo>
    <plugin filename="gz-sim-imu-system" name="gz::sim::systems::Imu">
        </plugin>
  </gazebo>
  <gazebo>
    <plugin filename="gz-sim-diff-drive-system" name="gz::sim::systems::DiffDrive">
      <left_joint>left_wheel_joint</left_joint>
      <right_joint>right_wheel_joint</right_joint>
      <wheel_separation>0.096</wheel_separation>
      <wheel_radius>0.016</wheel_radius>
      <odom_publish_frequency>50</odom_publish_frequency>
    </plugin>
  </gazebo>
  <gazebo reference="dummy_link">
    <sensor gz:type="dummy" name="non_existant_sensor" type="custom" xmlns:gz="dummy_xmlns">
      <!-- This serves no purpose other than introducing a sensor with type="custom" with gz:type!="encoder" and checking how the encoder system behaves. -->
    </sensor>
  </gazebo>
  <gazebo reference="left_wheel_joint">
    <sensor gz:type="encoder" name="left_wheel_encoder" type="custom" xmlns:gz="https://gazebosim.org/api/sensors/8/custom_sensors.html">
      <always_on>1</always_on>
      <update_rate>30</update_rate>
      <visualize>true</visualize>
      <topic>left_wheel_encoder</topic>
      <gz:encoder>
        <resolution>12.0</resolution>
        <gearbox_ratio>29.86</gearbox_ratio>
      </gz:encoder>
    </sensor>
  </gazebo>
  <gazebo reference="right_wheel_joint">
    <sensor gz:type="encoder" name="right_wheel_encoder" type="custom" xmlns:gz="https://gazebosim.org/api/sensors/8/custom_sensors.html">
      <always_on>1</always_on>
      <update_rate>30</update_rate>
      <visualize>true</visualize>
      <topic>right_wheel_encoder</topic>
      <gz:encoder>
        <resolution>12.0</resolution>
        <gearbox_ratio>29.86</gearbox_ratio>
      </gz:encoder>
    </sensor>
  </gazebo>
  <gazebo reference="body_link">
    <sensor name="imu_sensor" type="imu">
      <pose relative_to="body_link">0 0 0 0 0 0</pose>
      <always_on>1</always_on>
      <update_rate>1</update_rate>
      <visualize>true</visualize>
      <topic>imu</topic>
    </sensor>
    <sensor name="sensor_lidar_center" type="gpu_lidar">
      <pose relative_to="body_link">0.06 0 0 0
                0 0</pose>
      <topic>lidar_center</topic>
      <update_rate>10</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>1</samples>
            <resolution>1</resolution>
            <min_angle>0</min_angle>
            <max_angle>0</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.0001</min>
          <max>10.0</max>
        </range>
      </ray>
      <always_on>1</always_on>
      <visualize>true</visualize>
    </sensor>
    <sensor name="sensor_lidar_left" type="gpu_lidar">
      <pose relative_to="body_link">0.06 0.048
                0 0 0 0.7853981633974483</pose>
      <topic>lidar_left</topic>
      <update_rate>10</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>1</samples>
            <resolution>1</resolution>
            <min_angle>0</min_angle>
            <max_angle>0</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.0001</min>
          <max>10.0</max>
        </range>
      </ray>
      <always_on>1</always_on>
      <visualize>true</visualize>
    </sensor>
    <sensor name="sensor_lidar_right" type="gpu_lidar">
      <pose relative_to="body_link">0.06 -0.048
                0 0 0 -0.7853981633974483</pose>
      <topic>lidar_right</topic>
      <update_rate>10</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>1</samples>
            <resolution>1</resolution>
            <min_angle>0</min_angle>
            <max_angle>0</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.0001</min>
          <max>10.0</max>
        </range>
      </ray>
      <always_on>1</always_on>
      <visualize>true</visualize>
    </sensor>
  </gazebo>
  <link name="body_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.12 0.096 0.02"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.12 0.096 0.02"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.4608"/>
      <inertia ixx="0.00036925439999999993" ixy="0.0" ixz="0.0" iyy="0.0005683199999999999" iyz="0.0" izz="0.0009068543999999998"/>
    </inertial>
  </link>
  <link name="extra_weight_link">
    <visual>
      <origin rpy="0 0 0" xyz="-0.015 0 0.012"/>
      <geometry>
        <box size="0.03 0.096 0.004"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.015 0 0.012"/>
      <geometry>
        <box size="0.03 0.096 0.004"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.023039999999999998"/>
      <inertia ixx="1.772544e-05" ixy="0.0" ixz="0.0" iyy="1.7587199999999997e-06" iyz="0.0" izz="1.9422719999999998e-05"/>
    </inertial>
  </link>
  <link name="wheel1_link">
    <visual>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.01" radius="0.016"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.01" radius="0.016"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.016084954386379743"/>
      <inertia ixx="1.163478367281468e-06" ixy="0.0" ixz="0.0" iyy="1.163478367281468e-06" iyz="0.0" izz="2.058874161456607e-06"/>
    </inertial>
  </link>
  <link name="wheel2_link">
    <visual>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.01" radius="0.016"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.01" radius="0.016"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.016084954386379743"/>
      <inertia ixx="1.163478367281468e-06" ixy="0.0" ixz="0.0" iyy="1.163478367281468e-06" iyz="0.0" izz="2.058874161456607e-06"/>
    </inertial>
  </link>
  <link name="caster_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.005"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.005"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.0010471975511965978"/>
      <inertia ixx="1.0471975511965978e-08" ixy="0.0" ixz="0.0" iyy="1.0471975511965978e-08" iyz="0.0" izz="1.0471975511965978e-08"/>
    </inertial>
  </link>
  <link name="dummy_link">
</link>
  <joint name="dummy_joint" type="fixed">
    <parent link="dummy_link"/>
    <child link="body_link"/>
  </joint>
  <joint name="extra_mass_joint" type="fixed">
    <parent link="body_link"/>
    <child link="extra_weight_link"/>
    <origin rpy="0 0 0" xyz="-0.03 0 0"/>
  </joint>
  <joint name="right_wheel_joint" type="continuous">
    <parent link="body_link"/>
    <child link="wheel1_link"/>
    <origin rpy="0 0 0" xyz="0 -0.053 0"/>
    <axis xyz="0 1 0"/>
    <limit effort="1000" velocity="1000"/>
    <dynamics damping="0.0001"/>
  </joint>
  <joint name="left_wheel_joint" type="continuous">
    <parent link="body_link"/>
    <child link="wheel2_link"/>
    <origin rpy="0 0 0" xyz="0 0.053 0"/>
    <axis xyz="0 1 0"/>
    <limit effort="1000" velocity="1000"/>
    <dynamics damping="0.0001"/>
  </joint>
  <joint name="caster_joint" type="fixed">
    <parent link="body_link"/>
    <child link="caster_link"/>
    <origin rpy="0 0 0" xyz="-0.048 0 -0.01"/>
    <limit effort="1000" velocity="1000"/>
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
</robot>
